<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pirâmide de TriTri</title>
</head>

<body>
  <h1>Pirâmide de TriTri</h1>

  <form action="">
    <label for="QntNumeroLinhas">Numero de linhas</label>
    <input type="number" name="Numero de linhas" id="numberqnt" max="30" min="1" />
    <button type="submit">Iniciar</button>
  </form>

  <div class="piramide">

  </div>

  <script>
    const FormT = document.querySelector("form");
    FormT.setAttribute("onclick", "iniciar()");

    function iniciar() {
      document.querySelector(".piramide").innerHTML = "";
      var linha = "1";
      const ObjInput = document.querySelector("#numberqnt");
      var qntLinhas = ObjInput.value;
      for (let i = 0; i < qntLinhas; i++) {
        let p = document.createElement("p");
        p.innerText = linha;
        document.querySelector(".piramide").appendChild(p);
        linha = CriarLinha(linha);
      }
    }

    function CriarLinha(linha) {
      var qnt = 1;
      var concatenada = "";
      var linhaFinal = "";
      var total = 0;

      if (linha.length == 1) {
        total += parseInt(linha[0]) * qnt;
        qnt = 1;
        let Stringqnt = String(qnt);
        concatenada = Stringqnt + linha[0];
        linhaFinal += concatenada;
        return linhaFinal;
      }

      for (let i = 0; i < linha.length; i++) {
        if (linha[i] == linha[i + 1]) {
          qnt++;
        } else if (linha[i] != linha[i + 1]) {
          total += parseInt(linha[i]) * qnt;
          let Stringqnt = String(qnt);
          concatenada = Stringqnt + linha[i];
          linhaFinal += concatenada;
          qnt = 1;
        } 
      }
      return linhaFinal;
    }

  </script>
</body>

</html>